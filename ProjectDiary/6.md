**帖子发布功能**

&emsp;&emsp;允许注册的用户发布帖子，发布完成后，跳转到帖子的详情页面。

1. 使用利用`模型观察器`生成话题的摘录。在们需要生成一个监视`save`的事件也正是`laravel`提供的事件在保存之前便可触发`saving`事件。
2. 话题输入页面的更改引入文本输入框`simditor`使用户的发布体验更佳。
3. 在用户提交帖子的同时，用到了laravel 内置的Request验证规则，以及使用Auth权限来对，不同用户的权限进行判断用户修改帖子的操作，只对自己的帖子起作用。

**XSS安全漏洞**

**XSS基本介绍**

&emsp;&emsp;当用户提交内容的时候，我们不应该完全的信任客户端，因为很有可能是攻击者恶意的植入javascript 代码，当用户浏览该页面时候，嵌入到web页面中javascript代码被执行从而达到攻击用户的目的。一般的攻击者会通过代码获取用户的Cookie从而伪造用户的Cookie来登陆网站。

避免XSS攻击两种办法：

1. 对用户提交的数据进行过滤
2. Web网页显示时对数据进行特殊的处理，`htmlspecialchars()`输出

**web页面用到的过滤机制**

PHP一个比较合理的解决方案是`HTMLPurifier`。`HTMLPurifier` 运用白名单机制对HTML文本的信息进行XSS过滤。这种的过滤机制都会通过比较我们认为比较安全的标签或者属性，对于未知的全部过滤。



